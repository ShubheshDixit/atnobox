var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(l,t,r)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r,s=(e,l)=>{for(var t in l||(l={}))a.call(l,t)&&n(e,t,l[t]);if(r)for(var t of r(l))i.call(l,t)&&n(e,t,l[t]);return e},c=(e,r)=>l(e,t(r)),o=(e,l,t)=>(n(e,"symbol"!=typeof l?l+"":l,t),t);import{i as d,g as u,k as f,a as m,G as h,j as p,s as x,r as g,b as y,f as b,F as w,c as v,L as N,d as j,w as k,u as C,O as S,M as L,A as E,e as A,h as U,l as I,m as D,n as O,o as R,v as z,p as F,q as P,R as M,t as B,x as H,y as T,z as $,B as G,C as W,D as K,E as q,H as J,I as Y,J as Q,S as V,K as _,N as X}from"./vendor.d13430cb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?l.credentials="include":"anonymous"===e.crossorigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const Z=d({apiKey:"AIzaSyCdA4fxboOLDJOqB7QHHDlKUP9j79IMfnA",authDomain:"atnolinks.firebaseapp.com",projectId:"atnolinks",storageBucket:"atnolinks.appspot.com",messagingSenderId:"157058818743",appId:"1:157058818743:web:ad53d7cb7f7196d18c2332"}),ee=u(Z),le=f(Z),te=m(Z),re=new h;re.addScope("https://www.googleapis.com/auth/contacts.readonly"),ee.useDeviceLanguage();const ae=p.exports.jsx,ie=p.exports.jsxs,ne=p.exports.Fragment;function se(){return ie("button",{className:"flex flex-row bg-white rounded-md justify-center items-center px-4 py-2 hover:bg-gray-200 hover:shadow-md text-black",onClick:()=>{x(ee,re).then((async e=>{var l=await g(y(le,"users/"+e.user.uid));console.log(l.exists()),l.exists()||b(l.ref,{displayName:e.user.displayName,email:e.user.email,photoURL:e.user.photoURL,uid:e.user.uid})}))},children:[ae(w,{icon:v}),ae("h3",{className:"pl-2 font-bold",children:"Sign In With Google"})]})}function ce(e){return ae("button",c(s({className:`flex justify-center items-center bg-primary-light rounded-md text-md flex-row px-4 my-2 h-12 w-auto min-w-max text-black mr-4 font-bold hover:bg-opacity-75 ${e.className}`},e),{children:e.children}))}function oe(e){return ae("button",c(s({className:`flex justify-center items-center border-2 border-primary-light rounded-md text-md flex-row px-4 my-2 h-12 w-auto min-w-max text-primary-light focus-within:bg-primary-light focus-within:bg-opacity-25 font-bold hover:opacity-50 ${e.className}`},e),{children:e.children}))}function de(e){return ie(N,{to:`projects/${e.data.id}`,className:"w-full bg-primary-light bg-opacity-5 hover:bg-opacity-10 flex-row flex p-8 justify-start items-center rounded-md my-4",children:[e.data.imageURL&&ae("img",{src:e.data.imageURL,alt:e.data.title,className:"w-12 h-12 sm:w-20 sm:h-20 mr-4 object-contain"}),ie("div",{className:"flex flex-col justify-center items-start w-full",children:[ae("h1",{className:"font-bold text-primary-light text-xl sm:text-2xl",children:e.data.title}),ae("p",{className:"text-left w-full pr-2",children:ae("textarea",{className:"w-full overflow-hidden overflow-ellipsis text-white bg-transparent resize-none focus:outline-none",value:e.data.description,readOnly:!0})})]}),ae("button",{className:"h-10 w-10 rounded-full justify-center items-center flex bg-red-600 bg-opacity-0 text-red-600 ",onClick:e.onClick,children:ae(w,{icon:j,size:"1x"})})]})}async function ue(e){await k(y(le,"/links/"+e))}function fe(){U();const[e,l]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){var t;if(null==e){var r=await C(S(E(le,"projects"),L("userId","==",null==(t=ee.currentUser)?void 0:t.uid)));l(r.docs)}}()}),[e]),ae("div",{className:"w-full my-0",children:e&&e.map((e=>ae(de,{data:e.data(),onClick:async()=>{await async function(e){await k(y(le,"/projects/"+e)),(await C(S(E(le,"links"),L("projectId","==",e)))).forEach((e=>{k(e.ref)}))}(e.id),l(null)}},e.id)))})}function me(e){return ie("div",{className:"w-full bg-primary-light bg-opacity-5 hover:bg-opacity-10 flex-row flex p-8 justify-start items-center rounded-md my-4",children:[e.data.imageURL&&ae("img",{src:e.data.imageURL,alt:e.data.title,className:"w-12 h-12 sm:w-20 sm:h-20 mr-4 object-contain"}),ie("div",{className:"flex flex-col justify-center items-start w-full",children:[ae("h1",{className:"font-bold text-primary-light text-xl sm:text-2xl",children:e.data.title}),ae("a",{className:"text-left w-full pr-2",href:`${e.data.url}`,children:ae("textarea",{className:"w-full overflow-hidden text-white bg-transparent resize-none focus:outline-none",value:e.data.url,readOnly:!0})})]}),ae("button",{className:"h-10 w-10 rounded-full justify-center items-center flex bg-red-600 bg-opacity-0 text-red-600 ",onClick:e.onClick,children:ae(w,{icon:j,size:"1x"})})]})}function he(){const[e,l]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){var t;if(null==e){var r=await C(S(E(le,"links"),L("userId","==",null==(t=ee.currentUser)?void 0:t.uid)));l(r.docs)}}()}),[e]),ae("div",{className:"w-full my-0",children:e&&e.map((e=>ae(me,{data:e.data(),onClick:async()=>{await ue(e.id),l(null)}},e.id)))})}function pe(e){return ae("input",s({className:"p-4 focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-40 text-white w-full my-4 bg-primary-light bg-opacity-5 rounded-md"},e))}function xe(e){return ae("textarea",s({className:"p-4 focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-40 text-white w-full my-4 bg-primary-light bg-opacity-5 resize-none rounded-md"},e))}function ge(){return ae("div",{className:"w-full max-w-screen-md flex flex-col p-4",children:ae("div",{className:"w-full border-t-2 border-primary-light border-opacity-20 flex flex-col border-dashed",children:ie("div",{className:"flex flex-col justify-center md:flex-row md:justify-between items-center p-4",children:[ie("div",{className:"flex flex-col justify-center items-start",children:[ae("h1",{className:"text-primary-light font-bold text-lg",children:"Join our newsletter"}),ae(pe,{placeholder:"Enter you email"}),ae(ce,{style:{width:"100%"},children:"Subscribe"})]}),ae("img",{src:"/assets/Support.b9145787.png",alt:"",className:"h-64 w-auto"})]})})})}function ye(){var e;const[l,t]=I.exports.useState(0),[r,a]=I.exports.useState(!0),[i,n]=I.exports.useState(null),s=U();return I.exports.useEffect((()=>ee.onAuthStateChanged((e=>{null!=e&&(n(e),a(!1))}))),[]),ie("div",{className:"w-full h-full flex flex-col justify-start items-center overflow-x-auto mx-8",children:[ae("div",{className:"flex flex-col bg-bg-light justify-center items-center w-full p-6",children:ie("div",{className:"flex flex-row justify-between items-center w-full max-w-screen-md",children:[ae("h1",{className:"font-bold text-xl",children:"AtnoLinks"}),ie("div",{className:"flex-row justify-center items-center hidden sm:flex",children:[ae(N,{to:"/",className:"p-4 h-12 flex justify-center items-center bg-primary-light mx-2 rounded-md bg-opacity-100 text-black",children:ae("h2",{className:"font-bold",children:"Links"})}),ae(N,{to:"/files",className:"p-4 flex justify-center items-center h-12 bg-primary-light mx-2 rounded-md bg-opacity-10",children:ae("h2",{className:"font-bold",children:"Files"})})]}),null!=i?ie("div",{className:"group relative",children:[ae("button",{className:"bg-red-600 px-4 py-2 rounded-md h-12 font-bold",onClick:()=>{D(ee),n(null)},children:"Logout"}),ae("div",{className:"group-hover:flex flex-col hidden w-full justify-center items-center absolute h-0 group-hover:h-auto transition-all",children:null!=i?ie("div",{className:"flex flex-row justify-center items-center bg-bg-light p-6 mt-2 rounded-md",children:[ae("img",{src:null!=(e=i.photoURL)?e:"",alt:"",className:"h-16 w-16 mx-4"}),ie("div",{className:"flex flex-col justify-center items-start mr-4",children:[ae("h1",{className:"font-bold text-primary-light text-xl",children:i.displayName}),ae("p",{children:i.email})]})]}):null})]}):ae(se,{})]})}),null!=i||r?null:ae("div",{className:"flex flex-row w-full max-w-screen-md p-4 justify-center",children:ie("h1",{className:"text-4xl font-bold",children:[null!=i?"Welcome to AtnoLinks":"Sign in to continue"," "]})}),r?ie("div",{className:"flex flex-col w-full max-w-screen-md p-4 justify-center items-center",children:[ae("img",{src:"/assets/Wait.f73660b5.png",alt:"",className:"w-64 h-64"}),ae("h1",{className:"font-bold animate-pulse",children:"Fetching data please wait ..."})]}):null,null!=i?ie("div",{className:"w-full max-w-screen-md flex flex-col justify-center items-center py-8",children:[ae("img",{src:"/assets/Images.6f3b87eb.png",className:"h-64 w-64 object-contain"}),ae("h1",{className:"font-bold text-4xl my-2",children:"AtnoLinks"}),ae("p",{className:"text-xl text-center",children:"Save and share your links from everywhere."}),ie("div",{className:"flex flex-row  w-full max-w-screen-md p-4 justify-center items-center",children:[ae(ce,{onClick:()=>{s.push("add-project")},children:"Creat a project"}),ae(oe,{onClick:()=>{s.push("add-link")},children:"Add a new link"})]})]}):null,null!=i?ie("div",{className:"w-full max-w-screen-md flex flex-col justify-center items-center p-4",children:[ie("div",{className:"w-full border-primary-light border-b-2 border-dashed border-opacity-25 my-4 flex flex-row border-collapse justify-center items-center",children:[ae("button",{className:"py-4 mx-4 font-bold "+(0===l?"border-b-4 border-primary-light":""),onClick:()=>{t(0)},children:"Projects"}),ae("button",{className:"py-4 mx-4 font-bold "+(1===l?"border-b-4 border-primary-light":""),onClick:()=>{t(1)},children:"Link"})]}),ae(0==l?fe:he,{})]}):null,ae(ge,{})]})}class be extends I.exports.Component{constructor(e){super(e),o(this,"state",{isOpen:!1}),this.showMenu=this.showMenu.bind(this)}showMenu(e){e.preventDefault(),this.setState({isOpen:!this.state.isOpen},(()=>{}))}render(){var e;return ie("div",{className:"flex relative flex-col",children:[ae("button",{className:"p-4 focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-40 text-primary-light w-full my-4 bg-primary-light bg-opacity-5 rounded-md",onClick:this.showMenu,children:ie("div",{className:"flex flex-row justify-between",children:[ae("p",{children:null!=(e=this.props.value)?e:this.props.placeholder}),ae("span",{children:this.state.isOpen?ae(w,{icon:O}):ae(w,{icon:R})})]})}),this.state.isOpen?ie("div",{className:"absolute flex-col flex bg-bg-light p-4 right-0 w-full rounded-md mb-20 bottom-0 shadow-xl drop-shadow-xl items-start max-h-80 overflow-x-auto",children:[ae(pe,{placeholder:"Search project..."}),this.props.children]}):null]})}}var we="/assets/Success.47c51e90.png";function ve(){const[e,l]=I.exports.useState(!1),[t,r]=I.exports.useState(null),[a,i]=I.exports.useState(null),[n,s]=I.exports.useState(null),[c,o]=I.exports.useState(null),[d,u]=I.exports.useState(null),[f,m]=I.exports.useState(null),h=U(),[p,x]=I.exports.useState(null);async function g(){let e=z().replaceAll("-","").substr(10);if(null!=n&&null!=t&&null!=d)try{await async function(e,l,t,r,a){var i;await b(y(le,"/links/"+e),{id:e,projectId:l,userId:null==(i=ee.currentUser)?void 0:i.uid,url:t,imageURL:r,title:a,createdAt:A()})}(e,n,t,c,d),l(!0)}catch(r){console.log(r)}}return I.exports.useEffect((()=>{!async function(){if(null==p){var e=await C(S(E(le,"projects")));x(e.docs)}}()}),[p]),ae("div",{className:"flex flex-col w-full justify-start items-center h-full overflow-x-auto",children:ae("div",{className:"felx flex-col max-w-screen-md w-full justify-center items-center bg-primary-light bg-opacity-5 p-8 rounded-md mt-8",children:e?ie("div",{className:"flex justify-center items-center flex-col",children:[ae("img",{src:we,alt:"success",className:"w-64 h-64"}),ae("h1",{className:"font-bold text-2xl animate-bounce",children:"Link Added Successfully!"}),ae(ce,{onClick:()=>{h.push("/")},children:"Go to Home"})]}):ie(ne,{children:[ae("h1",{className:"text-lg p-1 font-bold",children:"Add a new link"}),ae(pe,{placeholder:"Enter link url",onChange:e=>{r(e.target.value)}}),ae(pe,{placeholder:"Enter link title",onChange:e=>{u(e.target.value)}}),ae(pe,{placeholder:"Enter link image url",onChange:e=>{o(e.target.value)}}),ae(xe,{placeholder:"Enter link description",rows:4,onChange:e=>{m(e.target.value)}}),ae(be,{placeholder:"Select project",value:a,isOpen:!1,children:null!=p?p.map((e=>ae("button",{className:"p-4 w-full flex flex-col items-start group",onClick:()=>{s(e.id),i(e.data().title)},children:ae("h1",{className:"text-lg group-hover:text-primary-light font-bold",children:e.data().title})},e.id))):null}),ie("div",{className:"flex flex-row",children:[ae(ce,{onClick:()=>{g()},children:"Add Link"}),ae(oe,{onClick:()=>{h.goBack()},children:"Cancel"})]})]})})})}function Ne(){const[e,l]=I.exports.useState(!1),[t,r]=I.exports.useState(null),[a,i]=I.exports.useState(null),[n,s]=I.exports.useState(null),c=U();async function o(){if(null!=a){let r=z().replaceAll("-","").substr(10);try{await async function(e,l,t,r){var a;await b(y(le,"/projects/"+e),{id:e,userId:null==(a=ee.currentUser)?void 0:a.uid,title:l,imageURL:r,description:t,createdAt:A()})}(r,a,t,n),l(!0)}catch(e){console.log(e)}}}return ae("div",{className:"flex flex-col w-full justify-start items-center h-full overflow-x-auto",children:ae("div",{className:"felx flex-col max-w-screen-md w-full justify-center items-center bg-primary-light bg-opacity-5 p-8 rounded-md mt-8",children:e?ie("div",{className:"flex justify-center items-center flex-col",children:[ae("img",{src:we,alt:"success",className:"w-64 h-64"}),ae("h1",{className:"font-bold text-2xl animate-bounce",children:"Project Added Successfully!"}),ae(ce,{onClick:()=>{c.push("/")},children:"Go to Home"})]}):ie(ne,{children:[ae("h1",{className:"text-lg p-1 font-bold",children:"Create a new project"}),ae(pe,{placeholder:"Enter project's image url",onChange:e=>{s(e.target.value)}}),ae(pe,{placeholder:"Enter project name",onChange:e=>{i(e.target.value)}}),ae(xe,{placeholder:"Enter project description",rows:4,onChange:e=>{r(e.target.value)}}),ie("div",{className:"flex flex-row",children:[ae(ce,{onClick:()=>{o()},children:"Create Project"}),ae(oe,{onClick:()=>{c.goBack()},children:"Cancel"})]})]})})})}function je(){var e,l,t;const{id:r}=F(),[a,i]=I.exports.useState(null),[n,s]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){if(null==n){var e=await g(y(le,"projects/"+r));i(e)}}(),async function(){if(null==n){var e=await C(S(E(le,"links"),L("projectId","==",r)));s(e.docs)}}()}),[n]),ie("div",{className:"w-full h-full flex flex-col justify-start items-center overflow-x-auto",children:[ae("div",{className:"bg-bg-black w-full py-8 justify-center itesms-center flex px-4",children:ie("div",{className:"max-w-screen-md flex flex-row justify-start w-full items-center",children:[ae(N,{to:"/",className:"h-12 w-12 flex justify-center items-center bg-primary-light bg-opacity-10 rounded-full",children:ae(w,{icon:P})}),ae("h2",{className:"font-bold text-xl ml-4",children:"Your Project"})]})}),ie("div",{className:"w-full justify-start items-center flex flex-col max-w-screen-md p-4",children:[ie("div",{className:"flex flex-col justify-center items-center my-4 max-w-md",children:[ae("img",{src:null==(e=null==a?void 0:a.data())?void 0:e.imageURL,alt:"",className:"w-64 h-auto"}),ae("h1",{className:"text-4xl text-primary-light font-bold my-4",children:null==(l=null==a?void 0:a.data())?void 0:l.title}),ae("p",{className:"text-center",children:null==(t=null==a?void 0:a.data())?void 0:t.description})]}),ae("div",{className:"w-full my-8 border-t-2 border-primary-light border-dashed border-opacity-40 py-4",children:n&&n.map((e=>ae(me,{data:e.data(),onClick:async()=>{await ue(e.id),s(null)}},e.id)))})]})]})}function ke(e){return ie(N,{to:`/file-view/${e.data.id}`,className:"w-full bg-primary-light bg-opacity-5 hover:bg-opacity-10 flex-row flex p-8 justify-start items-center rounded-md my-4",children:[ie("div",{className:"flex flex-col justify-center items-start w-full",children:[ae("h1",{className:"font-bold text-primary-light text-xl sm:text-2xl",children:e.data.title}),ae("a",{className:"text-left w-full pr-2",href:`${e.data.mediaURL}`,children:ae("textarea",{className:"w-full overflow-hidden text-white bg-transparent resize-none focus:outline-none",value:e.data.mediaURL,readOnly:!0})})]}),ae("button",{className:"h-10 w-10 rounded-full justify-center items-center flex bg-red-600 bg-opacity-0 text-red-600 ",onClick:e.onClick,children:ae(w,{icon:j,size:"1x"})})]})}function Ce(){const[e,l]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){var t;if(null==e){var r=await C(S(E(le,"files"),L("userId","==",null==(t=ee.currentUser)?void 0:t.uid)));l(r.docs),console.log(r.docs)}}()}),[e]),ae("div",{className:"w-full my-0",children:e&&e.map((e=>ae(ke,{data:e.data(),onClick:()=>{}},e.id)))})}function Se(){const[e,l]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){var t;if(null==e){var r=await C(S(E(le,"folders"),L("userId","==",null==(t=ee.currentUser)?void 0:t.uid)));l(r.docs)}}()}),[e]),ae("div",{className:"w-full grid my-0 grid-cols-1 md:grid-cols-2",children:e&&e.map((e=>ie(N,{to:`/folder/${e.id}`,className:"bg-primary-light bg-opacity-10 rounded-md p-4",children:[ae("h2",{className:"text-primary-light text-lg font-bold",children:e.data().title}),ae("p",{children:e.data().description})]},e.id)))})}function Le(){var e;const[l,t]=I.exports.useState(0),[r,a]=I.exports.useState(!0),[i,n]=I.exports.useState(null),s=U();return I.exports.useEffect((()=>ee.onAuthStateChanged((e=>{null!=e&&(n(e),a(!1))}))),[]),ie("div",{className:"w-full h-full flex flex-col justify-start items-center overflow-x-auto",children:[ae("div",{className:"flex flex-col bg-bg-light justify-center items-center w-full p-6",children:ie("div",{className:"flex flex-row justify-between items-center w-full max-w-screen-md",children:[ae("h1",{className:"font-bold text-xl",children:"AtnoLinks"}),ie("div",{className:"hidden flex-row justify-center items-center sm:flex",children:[ae(N,{to:"/",className:"p-4 h-12 flex justify-center items-center bg-primary-light mx-2 rounded-md bg-opacity-10",children:ae("h2",{className:"font-bold",children:"Links"})}),ae(N,{to:"/files",className:"p-4 flex justify-center items-center h-12 bg-primary-light mx-2 rounded-md bg-opacity-100 text-black",children:ae("h2",{className:"font-bold",children:"Files"})})]}),null!=i?ie("div",{className:"group relative",children:[ae("button",{className:"bg-red-600 px-4 py-2 rounded-md h-12 font-bold",onClick:()=>{D(ee),n(null)},children:"Logout"}),ae("div",{className:"group-hover:flex flex-col hidden w-full justify-center items-center absolute h-0 group-hover:h-auto transition-all",children:null!=i?ie("div",{className:"flex flex-row justify-center items-center bg-bg-light p-6 mt-2 rounded-md",children:[ae("img",{src:null!=(e=i.photoURL)?e:"",alt:"",className:"h-16 w-16 mx-4"}),ie("div",{className:"flex flex-col justify-center items-start mr-4",children:[ae("h1",{className:"font-bold text-primary-light text-xl",children:i.displayName}),ae("p",{children:i.email})]})]}):null})]}):ae(se,{})]})}),null!=i||r?null:ae("div",{className:"flex flex-row w-full max-w-screen-md p-4 justify-center",children:ie("h1",{className:"text-4xl font-bold",children:[null!=i?"Welcome to AtnoLinks":"Sign in to continue"," "]})}),r?ie("div",{className:"flex flex-col w-full max-w-screen-md p-4 justify-center items-center",children:[ae("img",{src:"/assets/Wait.f73660b5.png",alt:"",className:"w-64 h-64"}),ae("h1",{className:"font-bold animate-pulse",children:"Fetching data please wait ..."})]}):null,null!=i?ie("div",{className:"w-full max-w-screen-md flex flex-col justify-center items-center py-8",children:[ae("img",{src:"/assets/Files.ed8938ed.png",className:"h-64 w-64 object-contain"}),ae("h1",{className:"font-bold text-4xl my-2",children:"AtnoFiles"}),ae("p",{className:"text-xl text-center",children:"Save and share your files from everywhere."}),ie("div",{className:"flex flex-row  w-full max-w-screen-md p-4 justify-center items-center",children:[ae(ce,{onClick:()=>{s.push("add-folder")},children:"Add a new folder"}),ae(oe,{onClick:()=>{s.push("add-file")},children:"Add a new file"})]})]}):null,null!=i?ie("div",{className:"w-full max-w-screen-md flex flex-col justify-center items-center p-4",children:[ie("div",{className:"w-full border-primary-light border-b-2 border-dashed border-opacity-25 my-4 flex flex-row border-collapse justify-center items-center",children:[ae("button",{className:"py-4 mx-4 font-bold "+(0===l?"border-b-4 border-primary-light":""),onClick:()=>{t(0)},children:"Folders"}),ae("button",{className:"py-4 mx-4 font-bold "+(1===l?"border-b-4 border-primary-light":""),onClick:()=>{t(1)},children:"Files"})]}),ae(0==l?Se:Ce,{})]}):null,ae(ge,{})]})}class Ee extends I.exports.Component{constructor(){super(...arguments),o(this,"state",{drag:!1,dragging:!1}),o(this,"dropRef",M.createRef()),o(this,"dragCounter",0),o(this,"handleDrag",(e=>{e.preventDefault(),e.stopPropagation()})),o(this,"handleDragIn",(e=>{var l;e.preventDefault(),e.stopPropagation(),this.dragCounter++,(null==(l=null==e?void 0:e.dataTransfer)?void 0:l.items)&&e.dataTransfer.items.length>0&&this.setState({drag:!0})})),o(this,"handleDragOut",(e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,0===this.dragCounter&&this.setState({drag:!1})})),o(this,"handleDrop",(e=>{var l;e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),(null==(l=null==e?void 0:e.dataTransfer)?void 0:l.files)&&e.dataTransfer.files.length>0&&(this.props.handleDrop(e.dataTransfer.files),e.dataTransfer.clearData(),this.dragCounter=0)}))}componentDidMount(){let e=this.dropRef.current;null==e||e.addEventListener("dragenter",this.handleDragIn),null==e||e.addEventListener("dragleave",this.handleDragOut),null==e||e.addEventListener("dragover",this.handleDrag),null==e||e.addEventListener("drop",this.handleDrop)}componentWillUnmount(){let e=this.dropRef.current;null==e||e.removeEventListener("dragenter",this.handleDragIn),null==e||e.removeEventListener("dragleave",this.handleDragOut),null==e||e.removeEventListener("dragover",this.handleDrag),null==e||e.removeEventListener("drop",this.handleDrop)}render(){return ie("div",{className:"border-2 border-primary-light border-dashed w-full rounded-md flex flex-col justify-center items-center p-2 overflow-x-auto relative my-8",ref:this.dropRef,children:[this.state.drag&&ae("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999},className:"bg-primary-light bg-opacity-10",children:ae("div",{style:{position:"absolute",top:"50%",bottom:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36},children:ae("div",{className:"font-bold text-white",children:"drop here :)"})})}),this.props.children]})}}function Ae(){const[e,{filesContent:l,loading:t,errors:r,clear:a}]=B({readAs:"ArrayBuffer",maxFileSize:100,multiple:!1,limitFilesConfig:{max:1}}),[i,n]=I.exports.useState([]);I.exports.useState(!1);const[s,c]=I.exports.useState(!1),[o,d]=I.exports.useState(!1),[u,f]=I.exports.useState(null),[m,h]=I.exports.useState(null),[p,x]=I.exports.useState(null),[g,v]=I.exports.useState(null),[N,j]=I.exports.useState(0),[k,C]=I.exports.useState(null),S=U();async function L(){if(null!=m&&null!=g&&null!=u&&null!=k)try{await async function(e,l,t,r,a,i){var n;await b(y(le,"/files/"+e),{id:e,folderId:l,userId:null==(n=ee.currentUser)?void 0:n.uid,mediaURL:t,title:a,description:r,ext:i,createdAt:A()})}(g,null,p,u,m,k),d(!0)}catch(e){console.log(e)}}const E=async()=>{if(l.length>0||i.length>0){c(!0);var e=z().replaceAll("-","").substr(16),t=i.length>0?i[0]:l[0];let r=t.name.split(".")[1];C(r),v(e);const a=W(K(te,"/userfiles/"+e+"."+r),t.content).on("state_changed",(e=>{j(e.bytesTransferred/e.totalBytes*100)}),(e=>{}),(async()=>{a();var l=await q(K(te,"/userfiles/"+e+"."+r));x(l),c(!1)}))}};return ae("div",{className:"flex flex-col w-full justify-start items-center h-full overflow-x-auto",children:ae("div",{className:"felx flex-col max-w-screen-md w-full justify-center items-center bg-primary-light bg-opacity-5 p-8 rounded-md mt-8",children:o?ie("div",{className:"flex justify-center items-center flex-col",children:[ae("img",{src:we,alt:"success",className:"w-64 h-64"}),ae("h1",{className:"font-bold text-2xl animate-bounce",children:"File Added Successfully!"}),ae("a",{href:null!=p?p:"",children:p}),ae(ce,{onClick:()=>{S.push("/files")},children:"Go to Home"})]}):ie(ne,{children:[ae("h1",{className:"text-lg p-1 font-bold",children:"Add a new file"}),ae(Ee,{handleDrop:e=>{let l=[];for(var t=0;t<1;t++){if(!e[t].name)return;l.push(e[t])}n(l)},children:i.length>0?ie("div",{style:{height:150},className:"flex flex-col justify-center items-center p-2 w-full h-full overflow-x-auto",children:[null==i?void 0:i.map(((e,l)=>ie("div",{children:[ae("p",{children:e.name}),ae("p",{children:e.size})]},l))),ae("button",{className:"flex justify-center items-center flex-col my-2 bg-primary-light text-black px-4 py-2 rounded-md",onClick:E,children:ie("h1",{className:"font-bold text-lg",children:[ae(w,{icon:H,className:"mr-2",size:"1x"})," Upload file"]})}),s?ie("h1",{children:[N,"%"]}):null]}):l.length>0?ie("div",{style:{height:150},className:"flex-col flex justify-center items-center overflow-x-auto",children:[null==l?void 0:l.map(((e,l)=>ie("div",{children:[ae("p",{children:e.name}),ae("p",{children:e.lastModified})]},l))),ae("button",{className:"flex justify-center items-center flex-col my-2 bg-primary-light text-black px-4 py-2 rounded-md",onClick:E,children:ie("h1",{className:"font-bold text-lg",children:[ae(w,{icon:H,className:"mr-2",size:"1x"})," Upload file"]})}),s?ie("h1",{children:[N,"%"]}):null]}):ie("div",{style:{height:150},className:"flex-col flex justify-center items-center",children:[ae(w,{icon:T,size:"3x"}),ae("button",{className:"flex justify-center items-center flex-col my-2 bg-primary-light text-black px-4 py-2 rounded-md",onClick:e,children:ie("h1",{className:"font-bold text-lg",children:[ae(w,{icon:$,className:"mr-2",size:"1x"})," Select a file"]})}),ae("p",{children:"or drag a drop a file"})]})}),i.length>0?i.map((e=>ae("div",{className:"w-full grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 my-4 gap-4",children:ie("div",{className:"bg-primary-light bg-opacity-10 rounded-md flex flex-row justify-start items-center p-4",children:[ie("div",{className:"flex justify-center items-start flex-col w-full",children:[ae("h1",{children:e.name}),ae("p",{children:e.size})]}),ae("button",{className:"text-red-600 justify-self-end text-2xl",onClick:()=>{i.splice(i.indexOf(e),1),n(i.filter((l=>l.name!=e.name)))},children:ae(w,{icon:G,size:"1x"})})]})},e.name))):null,l.length>0?l.map((e=>ae("div",{className:"w-full grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 my-4 gap-4",children:ie("div",{className:"bg-primary-light bg-opacity-10 rounded-md flex flex-row justify-start items-center p-4",children:[ie("div",{className:"flex justify-center items-start flex-col w-full",children:[ae("h1",{className:"w-full truncate",children:e.name}),ae("p",{children:e.lastModified})]}),ae("button",{className:"text-red-600 justify-self-end text-2xl",onClick:()=>{a()},children:ae(w,{icon:G,size:"1x"})})]})},e.name))):null,ae(pe,{placeholder:"Enter file's media url",onChange:e=>{x(e.target.value)},value:null!=p?p:""}),ae(pe,{placeholder:"Enter file name",onChange:e=>{h(e.target.value)}}),ae(xe,{placeholder:"Enter file description",rows:4,onChange:e=>{f(e.target.value)}}),ie("div",{className:"flex flex-row",children:[ae(ce,{onClick:()=>{L()},children:"Add File"}),ae(oe,{onClick:()=>{S.goBack()},children:"Cancel"})]})]})})})}function Ue(){const[e,l]=I.exports.useState(!1),[t,r]=I.exports.useState(null),[a,i]=I.exports.useState(null),[n,s]=I.exports.useState(null),c=U();async function o(){if(null!=a){let r=z().toString().replaceAll("-","").substr(10);try{await async function(e,l,t,r){var a;await b(y(le,"/folders/"+e),{id:e,userId:null==(a=ee.currentUser)?void 0:a.uid,title:l,imageURL:r,description:t,createdAt:A()})}(r,a,t,n),l(!0)}catch(e){console.log(e)}}}return ae("div",{className:"flex flex-col w-full justify-start items-center h-full",children:ae("div",{className:"felx flex-col max-w-screen-md w-full justify-center items-center bg-primary-light bg-opacity-5 p-8 rounded-md mt-8",children:e?ie("div",{className:"flex justify-center items-center flex-col",children:[ae("img",{src:we,alt:"success",className:"w-64 h-64"}),ae("h1",{className:"font-bold text-2xl animate-bounce",children:"Folder Added Successfully!"}),ae(ce,{onClick:()=>{c.push("/files")},children:"Go to Home"})]}):ie(ne,{children:[ae("h1",{className:"text-lg p-1 font-bold",children:"Create a new folder"}),ae(pe,{placeholder:"Enter folder's image url",onChange:e=>{s(e.target.value)}}),ae(pe,{placeholder:"Enter folder name",onChange:e=>{i(e.target.value)}}),ae(xe,{placeholder:"Enter folder description",rows:4,onChange:e=>{r(e.target.value)}}),ie("div",{className:"flex flex-row",children:[ae(ce,{onClick:()=>{o()},children:"Create Folder"}),ae(oe,{onClick:()=>{c.goBack()},children:"Cancel"})]})]})})})}function Ie(){var e,l,t,r;const{id:a}=F(),[i,n]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){if(null==i){var e=await g(y(le,"files/"+a));n(e)}}()}),[i]),ie("div",{className:"w-full h-full flex flex-col justify-start items-center overflow-x-auto",children:[ae("div",{className:"bg-bg-black w-full py-8 justify-center itesms-center flex px-4",children:ie("div",{className:"max-w-screen-md flex flex-row justify-start w-full items-center",children:[ae(N,{to:"/files",className:"h-12 w-12 flex justify-center items-center bg-primary-light bg-opacity-10 rounded-full",children:ae(w,{icon:P})}),ae("h2",{className:"font-bold text-xl ml-4",children:"File View"})]})}),ae("div",{className:"w-full justify-start items-center flex flex-col max-w-screen-md p-4",children:ie("div",{className:"flex flex-col justify-center items-start my-4",children:[ae("img",{src:null==(e=null==i?void 0:i.data())?void 0:e.mediaURL,alt:"",className:"w-64 h-auto self-center"}),ae("h1",{className:"text-xl text-primary-light font-bold my-4",children:null==(l=null==i?void 0:i.data())?void 0:l.title}),ae("p",{className:"text-left",children:null==(t=null==i?void 0:i.data())?void 0:t.description}),ie("div",{className:"flex justify-center items-center py-4 self-center",children:[ae("a",{href:null==(r=null==i?void 0:i.data())?void 0:r.mediaURL,children:ie(ce,{children:[ae(w,{icon:J,className:"mr-2"})," Download File"]})}),ie(oe,{children:[ae(w,{icon:Y,className:"mr-2"})," Share Link"]})]})]})})]})}function De(){var e,l,t;const{id:r}=F(),[a,i]=I.exports.useState(null),[n,s]=I.exports.useState(null);return I.exports.useEffect((()=>{!async function(){if(null==n){var e=await g(y(le,"folders/"+r));i(e)}}(),async function(){var e;if(null==n){var l=await C(S(E(le,"files"),L("userId","==",null==(e=ee.currentUser)?void 0:e.uid),L("folderId","==",r)));s(l.docs)}}()}),[n]),ie("div",{className:"w-full h-full flex flex-col justify-start items-center overflow-x-auto",children:[ae("div",{className:"bg-bg-black w-full py-8 justify-center itesms-center flex px-4",children:ie("div",{className:"max-w-screen-md flex flex-row justify-start w-full items-center",children:[ae(N,{to:"/files",className:"h-12 w-12 flex justify-center items-center bg-primary-light bg-opacity-10 rounded-full",children:ae(w,{icon:P})}),ae("h2",{className:"font-bold text-xl ml-4",children:"Your Project"})]})}),ie("div",{className:"w-full justify-start items-center flex flex-col max-w-screen-md p-4",children:[ie("div",{className:"flex flex-col justify-center items-center my-4 max-w-md",children:[ae("img",{src:null==(e=null==a?void 0:a.data())?void 0:e.imageURL,alt:"",className:"w-64 h-auto"}),ae("h1",{className:"text-4xl text-primary-light font-bold my-4",children:null==(l=null==a?void 0:a.data())?void 0:l.title}),ae("p",{className:"text-center",children:null==(t=null==a?void 0:a.data())?void 0:t.description})]}),ae("div",{className:"w-full my-8 border-t-2 border-primary-light border-dashed border-opacity-40 py-4",children:n&&n.map((e=>ae(me,{data:e.data(),onClick:async()=>{await ue(e.id),s(null)}},e.id)))})]})]})}function Oe(){return ae(Q,{children:ae("div",{className:"flex flex-col w-screen h-screen justify-center items-center bg-bg-dark text-white font-rubik overflow-x-auto",children:ie(V,{children:[ae(_,{exact:!0,path:"/",children:ae(ye,{})}),ae(_,{path:"/add-link",children:ae(ve,{})}),ae(_,{path:"/add-project",children:ae(Ne,{})}),ae(_,{path:"/projects/:id",children:ae(je,{})}),ae(_,{path:"/files",children:ae(Le,{})}),ae(_,{path:"/add-folder",children:ae(Ue,{})}),ae(_,{path:"/add-file",children:ae(Ae,{})}),ae(_,{path:"/folder/:id",children:ae(De,{})}),ae(_,{path:"/file-view/:id",children:ae(Ie,{})})]})})})}X.render(ae(M.StrictMode,{children:ae(Oe,{})}),document.getElementById("root"));
